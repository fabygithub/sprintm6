<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Listado de Usuarios</title>
    <link rel="shortcut icon" type="image/png" th:href="@{/img/favicon.ico}">
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
    <link th:href="@{/css/estilos.css}" rel="stylesheet">
    <script th:src="@{/js/tabla.js}"></script>
    <script src="https://kit.fontawesome.com/fbbcdf60b0.js" crossorigin="anonymous"></script>
</head>
<body>
<div class="container">
<header>
    <div th:replace="barraNav::barra"></div><br>
    <h3>Listado de Usuarios</h3><br>
    <a th:href="@{/usuario/new}">
        <button type="button" class="btn btn-primary btn-lg" >
            <i class="fa-solid fa-circle-plus"></i> Nuevo Usuario</button><br><br>
    </a>
</header>

<main>

    <div>
        <table id="miTabla" class="table table-warning table-striped">
            <thead>
            <tr>
                <th>Id</th>
                <th>Nombre</th>
                <th>Fecha Nacimiento</th>
                <th>Tipo</th>
                <th>Acciones</th>
            </tr>
            </thead>
            <tbody>
                <tr th:each="usuario: ${usuarios}">
                    <td th:text="${usuario.getUsuarioId()}"></td>
                    <td th:name="nombre" th:text="${usuario.getUsuarioNombre()}"></td>
                    <td th:text="${usuario.getUsuarioFechaNac()}"></td>
                    <td th:switch="${usuario.getUsuarioTipo()}" >
                        <span th:case="'1'" th:value="${1}">Cliente</span>
                        <span th:case="'2'" th:value="${2}">Profesional</span>
                        <span th:case="'3'" th:value="${3}">Administrativo</span>
                    </td>
                    <td>
                        <span th:if="${usuario.getUsuarioTipo() == 1}">
                            <a th:href="@{/cliente/edit/{id}(id=${usuario.getUsuarioId()})}">
                            <i class="fa-solid fa-square-pen"></i></a>
                        </span>
                        <span th:if="${usuario.getUsuarioTipo() == 2}">
                            <a th:href="@{/profesional/edit/{id}(id=${usuario.getUsuarioId()})}">
                            <i class="fa-solid fa-square-pen"></i></a>
                        </span>
                        <span th:if="${usuario.getUsuarioTipo() == 3}">
                            <a th:href="@{/administrativo/edit/{id}(id=${usuario.getUsuarioId()})}">
                            <i class="fa-solid fa-square-pen"></i></a>
                        </span>
                        <!--a th:href="@{/usuario/del/{id}(id=${usuario.getUsuarioId()})}">
                            <i class="fa-solid fa-trash-can"></i>
                        </a-->
                    </td>

                </tr>

            </tbody>
        </table>
    </div>

</main>
</div>

<script src="//cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>

<link href="//cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css" rel="stylesheet">
<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
        crossorigin="anonymous"></script>
</body>
</html>